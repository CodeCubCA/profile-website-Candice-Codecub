<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Sales Master</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #2c3e50, #4a6741);
            color: white;
            margin-bottom: 30px;
            border-radius: 15px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            margin-bottom: 30px;
        }

        .property-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .property-header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .property-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .property-price {
            font-size: 2rem;
            font-weight: bold;
            color: #27ae60;
        }

        .property-details {
            padding: 25px;
        }

        .property-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }

        .property-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }

        .info-label {
            font-size: 0.8rem;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .info-value {
            font-weight: bold;
            color: #2c3e50;
        }

        .sales-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 25px;
        }

        .customer-info {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .customer-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .customer-budget {
            color: #27ae60;
            font-weight: bold;
        }

        .pitch-area {
            margin-bottom: 20px;
        }

        .pitch-label {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .pitch-textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .pitch-textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .evaluation-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .evaluation-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .evaluation-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }

        .evaluation-item:last-child {
            border-bottom: none;
        }

        .evaluation-score {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 15px;
            color: white;
        }

        .score-excellent {
            background: #27ae60;
        }

        .score-good {
            background: #f39c12;
        }

        .score-poor {
            background: #e74c3c;
        }

        .result-panel {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }

        .result-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .result-earnings {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .result-bonus {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .tips-panel {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .tips-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }

        .tips-list {
            color: #856404;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .game-area {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2rem;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üè† Real Estate Sales Master</h1>
            <p>Craft compelling sales pitches to sell luxury properties and earn commissions!</p>
        </div>

        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-label">Total Earnings</div>
                <div class="stat-value" id="total-earnings">$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Properties Sold</div>
                <div class="stat-value" id="properties-sold">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Success Rate</div>
                <div class="stat-value" id="success-rate">0%</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Current Level</div>
                <div class="stat-value" id="current-level">Rookie</div>
            </div>
        </div>

        <div class="game-area">
            <div class="property-section">
                <div class="property-header">
                    <div class="property-title" id="property-title">Luxury Oceanfront Villa</div>
                    <div class="property-price" id="property-price">$2,850,000</div>
                </div>
                <div class="property-details">
                    <div class="property-image" id="property-image">üèñÔ∏è</div>
                    <div class="property-info">
                        <div class="info-item">
                            <div class="info-label">Bedrooms</div>
                            <div class="info-value" id="bedrooms">5</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Bathrooms</div>
                            <div class="info-value" id="bathrooms">4</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Sq Feet</div>
                            <div class="info-value" id="sqft">4,200</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Year Built</div>
                            <div class="info-value" id="year-built">2019</div>
                        </div>
                    </div>
                    <div class="property-description" id="property-description">
                        Stunning oceanfront villa with panoramic views, private beach access,
                        gourmet kitchen, infinity pool, and smart home technology throughout.
                    </div>
                </div>
            </div>

            <div class="sales-section">
                <div class="customer-info">
                    <div class="customer-name" id="customer-name">Michael Thompson</div>
                    <div>Budget: <span class="customer-budget" id="customer-budget">$3,000,000</span></div>
                    <div style="margin-top: 10px; font-size: 0.9rem; color: #6c757d;" id="customer-notes">
                        Looking for a vacation home with ocean views and modern amenities.
                    </div>
                </div>

                <div class="pitch-area">
                    <div class="pitch-label">Your Sales Pitch:</div>
                    <textarea
                        class="pitch-textarea"
                        id="sales-pitch"
                        placeholder="Write a compelling sales pitch for this property. Use rich vocabulary, proper spelling, and highlight the key features that match the customer's needs..."></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="submit-pitch">üìù Submit Pitch</button>
                    <button class="btn btn-secondary" id="new-property">üè† New Property</button>
                </div>

                <div class="evaluation-panel" id="evaluation-panel">
                    <div class="evaluation-title">Pitch Evaluation</div>
                    <div class="evaluation-item">
                        <span>Spelling & Grammar</span>
                        <span class="evaluation-score" id="spelling-score">0/10</span>
                    </div>
                    <div class="evaluation-item">
                        <span>Vocabulary Richness</span>
                        <span class="evaluation-score" id="vocabulary-score">0/10</span>
                    </div>
                    <div class="evaluation-item">
                        <span>Relevance to Customer</span>
                        <span class="evaluation-score" id="relevance-score">0/10</span>
                    </div>
                    <div class="evaluation-item">
                        <span>Persuasiveness</span>
                        <span class="evaluation-score" id="persuasiveness-score">0/10</span>
                    </div>
                </div>

                <div class="result-panel" id="result-panel">
                    <div class="result-title" id="result-title">Sale Successful!</div>
                    <div class="result-earnings" id="result-earnings">$85,500</div>
                    <div class="result-bonus" id="result-bonus">Base commission + Excellence bonus</div>
                </div>
            </div>
        </div>

        <div class="tips-panel">
            <div class="tips-title">üí° Pro Tips for Higher Commissions:</div>
            <div class="tips-list">
                ‚Ä¢ Use sophisticated vocabulary (luxurious, exquisite, pristine, immaculate)<br>
                ‚Ä¢ Check spelling carefully - errors reduce credibility<br>
                ‚Ä¢ Mention specific features that match customer needs<br>
                ‚Ä¢ Create emotional connection with lifestyle benefits<br>
                ‚Ä¢ Use powerful action words (discover, experience, indulge, embrace)
            </div>
        </div>
    </div>

    <script>
        class RealEstateGame {
            constructor() {
                this.totalEarnings = 0;
                this.propertiesSold = 0;
                this.totalAttempts = 0;
                this.currentProperty = null;
                this.currentCustomer = null;

                this.properties = [
                    {
                        title: "Luxury Oceanfront Villa",
                        price: 2850000,
                        bedrooms: 5,
                        bathrooms: 4,
                        sqft: 4200,
                        yearBuilt: 2019,
                        emoji: "üèñÔ∏è",
                        description: "Stunning oceanfront villa with panoramic views, private beach access, gourmet kitchen, infinity pool, and smart home technology throughout.",
                        keywords: ["ocean", "beach", "luxury", "modern", "pool", "views"]
                    },
                    {
                        title: "Modern Downtown Penthouse",
                        price: 3200000,
                        bedrooms: 3,
                        bathrooms: 3,
                        sqft: 2800,
                        yearBuilt: 2021,
                        emoji: "üèôÔ∏è",
                        description: "Sophisticated penthouse in the heart of downtown with floor-to-ceiling windows, rooftop terrace, and concierge services.",
                        keywords: ["downtown", "penthouse", "modern", "city", "terrace", "luxury"]
                    },
                    {
                        title: "Historic Mansion Estate",
                        price: 4500000,
                        bedrooms: 8,
                        bathrooms: 6,
                        sqft: 7200,
                        yearBuilt: 1925,
                        emoji: "üè∞",
                        description: "Beautifully restored historic mansion on 5 acres with original hardwood floors, grand staircase, and formal gardens.",
                        keywords: ["historic", "mansion", "estate", "gardens", "classic", "elegant"]
                    },
                    {
                        title: "Mountain Ski Lodge",
                        price: 2100000,
                        bedrooms: 6,
                        bathrooms: 4,
                        sqft: 5000,
                        yearBuilt: 2018,
                        emoji: "üèîÔ∏è",
                        description: "Rustic luxury ski lodge with panoramic mountain views, stone fireplace, hot tub, and ski-in/ski-out access.",
                        keywords: ["mountain", "ski", "lodge", "rustic", "fireplace", "views"]
                    },
                    {
                        title: "Waterfront Contemporary",
                        price: 1850000,
                        bedrooms: 4,
                        bathrooms: 3,
                        sqft: 3200,
                        yearBuilt: 2020,
                        emoji: "üåä",
                        description: "Sleek contemporary home on the waterfront with open concept design, chef's kitchen, and private dock.",
                        keywords: ["waterfront", "contemporary", "dock", "modern", "open", "chef"]
                    }
                ];

                this.customers = [
                    {
                        name: "Michael Thompson",
                        budget: 3000000,
                        notes: "Looking for a vacation home with ocean views and modern amenities.",
                        preferences: ["ocean", "modern", "luxury", "views"]
                    },
                    {
                        name: "Sarah Chen",
                        budget: 3500000,
                        notes: "Seeking a downtown property for entertaining clients and hosting events.",
                        preferences: ["downtown", "penthouse", "modern", "entertaining"]
                    },
                    {
                        name: "Robert Williams",
                        budget: 5000000,
                        notes: "Interested in historic properties with character and extensive grounds.",
                        preferences: ["historic", "mansion", "estate", "classic"]
                    },
                    {
                        name: "Lisa Rodriguez",
                        budget: 2500000,
                        notes: "Family looking for a ski property with plenty of space for children.",
                        preferences: ["ski", "family", "mountain", "space"]
                    },
                    {
                        name: "David Kim",
                        budget: 2200000,
                        notes: "Wants a waterfront property for weekend relaxation and boating.",
                        preferences: ["waterfront", "contemporary", "dock", "relaxation"]
                    }
                ];

                this.sophisticatedWords = [
                    "exquisite", "luxurious", "pristine", "immaculate", "stunning", "breathtaking",
                    "sophisticated", "elegant", "opulent", "magnificent", "extraordinary", "exceptional",
                    "prestigious", "exclusive", "prime", "coveted", "unparalleled", "distinctive"
                ];

                this.initializeGame();
                this.setupEventListeners();
            }

            initializeGame() {
                this.loadNewProperty();
                this.updateStats();
            }

            setupEventListeners() {
                document.getElementById('submit-pitch').addEventListener('click', () => this.evaluatePitch());
                document.getElementById('new-property').addEventListener('click', () => this.loadNewProperty());
            }

            findMatchingProperty(customer) {
                // Find properties that match customer preferences and budget
                const affordableProperties = this.properties.filter(property =>
                    property.price <= customer.budget
                );

                if (affordableProperties.length === 0) {
                    // If no affordable properties, return random property (will fail on budget)
                    return this.properties[Math.floor(Math.random() * this.properties.length)];
                }

                // Score properties based on preference matching
                const scoredProperties = affordableProperties.map(property => {
                    let score = 0;
                    customer.preferences.forEach(preference => {
                        if (property.keywords.includes(preference)) {
                            score += 1;
                        }
                    });
                    return { property, score };
                });

                // Sort by score (highest first)
                scoredProperties.sort((a, b) => b.score - a.score);

                // If we have good matches (score > 0), randomly pick from the top matches
                const goodMatches = scoredProperties.filter(sp => sp.score > 0);
                if (goodMatches.length > 0) {
                    const randomMatch = goodMatches[Math.floor(Math.random() * goodMatches.length)];
                    return randomMatch.property;
                }

                // If no good matches, return a random affordable property
                return affordableProperties[Math.floor(Math.random() * affordableProperties.length)];
            }

            loadNewProperty() {
                // First pick a random customer
                this.currentCustomer = this.customers[Math.floor(Math.random() * this.customers.length)];

                // Then find a property that matches their preferences
                this.currentProperty = this.findMatchingProperty(this.currentCustomer);

                document.getElementById('property-title').textContent = this.currentProperty.title;
                document.getElementById('property-price').textContent = `$${this.currentProperty.price.toLocaleString()}`;
                document.getElementById('property-image').textContent = this.currentProperty.emoji;
                document.getElementById('bedrooms').textContent = this.currentProperty.bedrooms;
                document.getElementById('bathrooms').textContent = this.currentProperty.bathrooms;
                document.getElementById('sqft').textContent = this.currentProperty.sqft.toLocaleString();
                document.getElementById('year-built').textContent = this.currentProperty.yearBuilt;
                document.getElementById('property-description').textContent = this.currentProperty.description;

                document.getElementById('customer-name').textContent = this.currentCustomer.name;
                document.getElementById('customer-budget').textContent = `$${this.currentCustomer.budget.toLocaleString()}`;
                document.getElementById('customer-notes').textContent = this.currentCustomer.notes;

                document.getElementById('sales-pitch').value = '';
                document.getElementById('evaluation-panel').style.display = 'none';
                document.getElementById('result-panel').style.display = 'none';
            }

            evaluatePitch() {
                const pitch = document.getElementById('sales-pitch').value.trim();

                if (pitch.length < 50) {
                    alert('Please write a more detailed pitch (at least 50 characters).');
                    return;
                }

                this.totalAttempts++;

                const evaluation = this.analyzePitch(pitch);
                this.displayEvaluation(evaluation);

                const success = this.calculateSuccess(evaluation);
                this.displayResult(success, evaluation);

                this.updateStats();
            }

            analyzePitch(pitch) {
                const words = pitch.toLowerCase().split(/\s+/);
                const sentences = pitch.split(/[.!?]+/).filter(s => s.trim().length > 0);

                const spellingScore = this.checkSpelling(pitch);

                const vocabularyScore = this.checkVocabulary(words);

                const relevanceScore = this.checkRelevance(words);

                const persuasivenessScore = this.checkPersuasiveness(pitch, sentences);

                return {
                    spelling: spellingScore,
                    vocabulary: vocabularyScore,
                    relevance: relevanceScore,
                    persuasiveness: persuasivenessScore,
                    overall: (spellingScore + vocabularyScore + relevanceScore + persuasivenessScore) / 4
                };
            }

            checkSpelling(pitch) {
                const commonMisspellings = {
                    'recieve': 'receive',
                    'seperate': 'separate',
                    'definately': 'definitely',
                    'accomodate': 'accommodate',
                    'occured': 'occurred',
                    'beutiful': 'beautiful',
                    'enviroment': 'environment',
                    'necessery': 'necessary',
                    'priviledge': 'privilege'
                };

                let errors = 0;
                const words = pitch.toLowerCase().split(/\s+/);

                words.forEach(word => {
                    const cleanWord = word.replace(/[^\w]/g, '');
                    if (commonMisspellings[cleanWord]) {
                        errors++;
                    }
                });

                const hasProperCapitalization = /^[A-Z]/.test(pitch.trim());
                const hasPunctuation = /[.!?]$/.test(pitch.trim());

                let score = 10;
                score -= errors * 2;
                if (!hasProperCapitalization) score -= 1;
                if (!hasPunctuation) score -= 1;

                return Math.max(0, score);
            }

            checkVocabulary(words) {
                const sophisticatedWordsUsed = words.filter(word =>
                    this.sophisticatedWords.some(sw => word.includes(sw.toLowerCase()))
                ).length;

                const uniqueWords = new Set(words).size;
                const averageWordLength = words.reduce((sum, word) => sum + word.length, 0) / words.length;

                let score = 0;
                score += Math.min(sophisticatedWordsUsed * 2, 6);
                score += Math.min(averageWordLength - 3, 2);
                score += Math.min(uniqueWords / words.length * 10, 2);

                return Math.min(10, Math.round(score));
            }

            checkRelevance(words) {
                const propertyKeywords = this.currentProperty.keywords;
                const customerPreferences = this.currentCustomer.preferences;

                let relevanceCount = 0;
                words.forEach(word => {
                    if (propertyKeywords.some(kw => word.includes(kw)) ||
                        customerPreferences.some(pref => word.includes(pref))) {
                        relevanceCount++;
                    }
                });

                return Math.min(10, Math.round(relevanceCount * 1.5));
            }

            checkPersuasiveness(pitch, sentences) {
                const persuasiveWords = [
                    'imagine', 'discover', 'experience', 'indulge', 'embrace', 'envision',
                    'perfect', 'ideal', 'dream', 'opportunity', 'exclusive', 'limited'
                ];

                const hasQuestions = /\?/.test(pitch);
                const hasEmotionalWords = persuasiveWords.some(word =>
                    pitch.toLowerCase().includes(word)
                );
                const hasCallToAction = /\b(call|contact|visit|schedule|book)\b/i.test(pitch);
                const sentenceVariety = sentences.length > 2;

                let score = 0;
                if (hasQuestions) score += 2;
                if (hasEmotionalWords) score += 3;
                if (hasCallToAction) score += 3;
                if (sentenceVariety) score += 2;

                return Math.min(10, score);
            }

            displayEvaluation(evaluation) {
                document.getElementById('spelling-score').textContent = `${evaluation.spelling}/10`;
                document.getElementById('vocabulary-score').textContent = `${evaluation.vocabulary}/10`;
                document.getElementById('relevance-score').textContent = `${evaluation.relevance}/10`;
                document.getElementById('persuasiveness-score').textContent = `${evaluation.persuasiveness}/10`;

                const scoreElements = ['spelling-score', 'vocabulary-score', 'relevance-score', 'persuasiveness-score'];
                const scores = [evaluation.spelling, evaluation.vocabulary, evaluation.relevance, evaluation.persuasiveness];

                scores.forEach((score, index) => {
                    const element = document.getElementById(scoreElements[index]);
                    element.className = 'evaluation-score';
                    if (score >= 8) element.classList.add('score-excellent');
                    else if (score >= 5) element.classList.add('score-good');
                    else element.classList.add('score-poor');
                });

                document.getElementById('evaluation-panel').style.display = 'block';
            }

            calculateSuccess(evaluation) {
                const priceInBudget = this.currentProperty.price <= this.currentCustomer.budget;
                const overallScore = evaluation.overall;

                if (!priceInBudget) {
                    return { success: false, reason: 'Price exceeds customer budget' };
                }

                if (overallScore >= 7) {
                    return { success: true, quality: 'excellent' };
                } else if (overallScore >= 5) {
                    return { success: true, quality: 'good' };
                } else {
                    return { success: false, reason: 'Pitch quality too low' };
                }
            }

            displayResult(success, evaluation) {
                const resultPanel = document.getElementById('result-panel');

                if (success.success) {
                    this.propertiesSold++;

                    let commission = this.currentProperty.price * 0.03;

                    if (success.quality === 'excellent') {
                        commission *= 1.5;
                        document.getElementById('result-title').textContent = 'Exceptional Sale!';
                        document.getElementById('result-bonus').textContent = 'Base commission + 50% Excellence bonus';
                        resultPanel.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
                    } else {
                        document.getElementById('result-title').textContent = 'Sale Successful!';
                        document.getElementById('result-bonus').textContent = 'Base commission earned';
                        resultPanel.style.background = 'linear-gradient(135deg, #f39c12, #e67e22)';
                    }

                    this.totalEarnings += commission;
                    document.getElementById('result-earnings').textContent = `$${commission.toLocaleString()}`;
                } else {
                    document.getElementById('result-title').textContent = 'Sale Failed';
                    document.getElementById('result-earnings').textContent = '$0';
                    document.getElementById('result-bonus').textContent = success.reason;
                    resultPanel.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
                }

                resultPanel.style.display = 'block';
            }

            updateStats() {
                document.getElementById('total-earnings').textContent = `$${this.totalEarnings.toLocaleString()}`;
                document.getElementById('properties-sold').textContent = this.propertiesSold;

                const successRate = this.totalAttempts > 0 ?
                    Math.round((this.propertiesSold / this.totalAttempts) * 100) : 0;
                document.getElementById('success-rate').textContent = `${successRate}%`;

                let level = 'Rookie';
                if (this.totalEarnings >= 1000000) level = 'Elite Agent';
                else if (this.totalEarnings >= 500000) level = 'Senior Agent';
                else if (this.totalEarnings >= 100000) level = 'Professional';

                document.getElementById('current-level').textContent = level;
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            new RealEstateGame();
        });
    </script>
</body>
</html>